{"ast":null,"code":"var connection = require(\"./connection.js\");\n\nvar orm = {\n  getrankings: function getrankings() {\n    return new Promise(function (resolve, reject) {\n      var query = \"select name, wins, losses, (wins/(wins+losses)) as percent from Players order by percent desc;\";\n      connection.query(query, function (err, results) {\n        if (err) return reject(\"An error occured accessing the database\");\n        return resolve(results);\n      });\n    });\n  }\n};\nmodule.exports = orm;","map":{"version":3,"sources":["C:\\~bootcamp\\~homework\\SwordsAndShields\\src\\data\\orm.js"],"names":["connection","require","orm","getrankings","Promise","resolve","reject","query","err","results","module","exports"],"mappings":"AAAA,IAAMA,UAAU,GAAGC,OAAO,CAAE,iBAAF,CAA1B;;AAEA,IAAMC,GAAG,GACT;AAAIC,EAAAA,WAAW,EAAE,uBACb;AAAI,WAAO,IAAIC,OAAJ,CAAa,UAACC,OAAD,EAAUC,MAAV,EACpB;AAAI,UAAMC,KAAK,GAAG,gGAAd;AACAP,MAAAA,UAAU,CAACO,KAAX,CAAkBA,KAAlB,EAAyB,UAAUC,GAAV,EAAeC,OAAf,EACzB;AACI,YAAID,GAAJ,EAAS,OAAOF,MAAM,CAAE,yCAAF,CAAb;AAET,eAAOD,OAAO,CAAEI,OAAF,CAAd;AACH,OALD;AAMH,KARM,CAAP;AASH;AAVL,CADA;AAcAC,MAAM,CAACC,OAAP,GAAiBT,GAAjB","sourcesContent":["const connection = require (\"./connection.js\");\r\n\r\nconst orm =\r\n{   getrankings: function ()\r\n    {   return new Promise ((resolve, reject) =>\r\n        {   const query = \"select name, wins, losses, (wins/(wins+losses)) as percent from Players order by percent desc;\"\r\n            connection.query (query, function (err, results)\r\n            {\r\n                if (err) return reject (\"An error occured accessing the database\");\r\n\r\n                return resolve (results);\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\nmodule.exports = orm;"]},"metadata":{},"sourceType":"module"}