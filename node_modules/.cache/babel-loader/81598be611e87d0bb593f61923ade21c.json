{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\GadgetCopter\\\\Desktop\\\\SwordsAndShields\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\GadgetCopter\\\\Desktop\\\\SwordsAndShields\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\GadgetCopter\\\\Desktop\\\\SwordsAndShields\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\GadgetCopter\\\\Desktop\\\\SwordsAndShields\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\GadgetCopter\\\\Desktop\\\\SwordsAndShields\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\GadgetCopter\\\\Desktop\\\\SwordsAndShields\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\GadgetCopter\\\\Desktop\\\\SwordsAndShields\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\GadgetCopter\\\\Desktop\\\\SwordsAndShields\\\\src\\\\components\\\\Login\\\\Login.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this));\n    _this.state = {\n      username: \"\",\n      password: \"\",\n      redirectTo: null\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      console.log(\"handleSubmit\");\n      axios.post(\"/login\", {\n        username: this.state.username,\n        password: this.state.password\n      }).then(function (response) {\n        console.log(\"login response: \");\n        console.log(response);\n        console.log(_this2.props);\n\n        if (response.data) {\n          _this2.props.updateUser({\n            loggedIn: true,\n            username: response.data.username\n          });\n\n          _this2.setState({\n            redirectTo: \"/\"\n          });\n        }\n      }).catch(function (error) {\n        console.log(\"login error: \");\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.redirectTo) {\n        return React.createElement(Redirect, {\n          to: {\n            pathname: this.state.redirectTo\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"col-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          className: \"main\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, \"Account Information\"), React.createElement(\"div\", {\n          className: \"form-row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"form-group col-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          htmlFor: \"username\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, \"Username:\"), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          name: \"username\",\n          id: \"username\",\n          value: this.state.username,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"form-group col-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          htmlFor: \"password\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, \"Password:\"), React.createElement(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          name: \"password\",\n          id: \"password\",\n          value: this.state.password,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }))), React.createElement(\"button\", {\n          type: \"submit\",\n          onClick: this.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, \"Submit\"))), React.createElement(\"div\", {\n          className: \"col-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }));\n      }\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["C:\\Users\\GadgetCopter\\Desktop\\SwordsAndShields\\src\\components\\Login\\Login.js"],"names":["React","Component","Redirect","axios","Login","state","username","password","redirectTo","handleSubmit","bind","handleChange","event","setState","target","name","value","preventDefault","console","log","post","then","response","props","data","updateUser","loggedIn","catch","error","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\r\nimport { Redirect } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\n\r\nclass Login extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            redirectTo: null\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault()\r\n        console.log(\"handleSubmit\")\r\n\r\n        axios.post(\"/login\", {\r\n            username: this.state.username,\r\n            password: this.state.password\r\n        })\r\n        .then(response => {\r\n            console.log(\"login response: \")\r\n            console.log(response)\r\n            console.log(this.props)\r\n            if(response.data) {\r\n                this.props.updateUser({\r\n                    loggedIn: true,\r\n                    username: response.data.username\r\n                })\r\n                this.setState({\r\n                    redirectTo: \"/\"\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            console.log(\"login error: \")\r\n            console.log(error)\r\n        })\r\n\r\n    }\r\n\r\n    render() {\r\n        if (this.state.redirectTo) {\r\n            return <Redirect to={{ pathname: this.state.redirectTo }} />\r\n        } else {\r\n            return(\r\n                <div className=\"row\">\r\n                <div className=\"col-3\"></div>            \r\n                    <div className=\"col-6\">\r\n                        <form>\r\n                        <h2 className=\"main\">Account Information</h2>\r\n                            <div className=\"form-row\">                      \r\n                                <div className=\"form-group col-12\">\r\n                                    <label htmlFor=\"username\">Username:</label>\r\n                                    <input\r\n                                        type=\"text\" \r\n                                        className=\"form-control\"\r\n                                        name=\"username\" \r\n                                        id=\"username\" \r\n                                        value={this.state.username} \r\n                                        onChange={this.handleChange} />\r\n                                </div>\r\n                                <div className=\"form-group col-12\">\r\n                                    <label htmlFor=\"password\">Password:</label>\r\n                                    <input \r\n                                        type=\"password\" \r\n                                        className=\"form-control\"\r\n                                        name=\"password\" \r\n                                        id=\"password\"  \r\n                                        value={this.state.password} \r\n                                        onChange={this.handleChange} />\r\n                                </div>\r\n                            </div>\r\n                            <button \r\n                            \r\n                            type=\"submit\"\r\n                            onClick={this.handleSubmit}\r\n                            \r\n                            >Submit</button>\r\n                        </form>\r\n                    </div>\r\n                    <div className=\"col-3\"></div>  \r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}